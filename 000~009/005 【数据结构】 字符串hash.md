# Hash(本文只是一个字符串hash的简易板子)

`map<>`能够实现通过字符串 `key` $O(log n)$ 查元素实际上就是内置了一个 **hash函数**

---

## Why hash?
把大的数据范围**映射**到更小的数据范围以节约空间

特点
- 不同于加密, 这是 **不可逆** 的操作
- 可能存在 **冲突** , 即一个 hash值 下可能有多个数据
- 冲突难以避免, 但要通过编写精巧的`hash()`尽量避免, 避免 **数据扎堆** 时遍历增加的额外复杂度

---
## 字符串hash
实际上我们是把字符串当成一个高进制, 高精度数值了(ASCⅡ)

我们需要一个 **基** `base`
和一个 **模数** `mod`

```cpp
    int Hash(string s)
    {
        int hash = 0;
        for (int i = 0; s[i]; i++)
        {
            hash = ((ull)hash * base + s[i]) % mod;
        }//进制转换，边算边模
        return hash;
    }
```

`base` 选取一个比字符种类数更大的质数(如 $29$, $131$, $261$ 等)

`mod` 选取允许范围内一个较大的质数(如 $23333$)